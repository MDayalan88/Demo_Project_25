# FileFerry AI Agent Configuration

# AWS Settings
aws:
  region: us-east-1

# Azure Settings
azure:
  # Set use_emulator to true for local development with Azurite
  # Set to false for production Azure Storage
  use_emulator: true
  
  # For Azurite emulator (local development) - no need to configure
  # Connection string is automatically set to Azurite default
  
  # For production Azure (set use_emulator: false and uncomment below):
  # connection_string: ${AZURE_STORAGE_CONNECTION_STRING}
  # account_name: ${AZURE_STORAGE_ACCOUNT_NAME}
  # account_url: https://<your-account>.blob.core.windows.net
  
# Bedrock AI Settings
bedrock:
  model_id: us.anthropic.claude-3-5-sonnet-20241022-v2:0
  max_tokens: 4096
  temperature: 0.7

# SSO Configuration
sso:
  start_url: https://fileferry.awsapps.com/start
  region: us-east-1
  account_id: "637423332185"
  role_name: FileFerryReadOnlyRole
  session_duration: 10  # 10 seconds auto-logout

# DynamoDB Tables (Phase 2 - All tables created âœ…)
dynamodb:
  region: us-east-1
  # SSO Sessions (10-second TTL)
  active_sessions_table: FileFerry-ActiveSessions
  # Conversation History (30-day TTL)
  user_context_table: FileFerry-UserContext
  # Transfer Tracking (90-day TTL, GSI on user_id)
  transfer_requests_table: FileFerry-TransferRequests
  # ML Predictions (permanent storage)
  agent_learning_table: FileFerry-AgentLearning
  # S3 Metadata Cache (24-hour TTL)
  s3_file_cache_table: FileFerry-S3FileCache

# ServiceNow Integration
servicenow:
  instance_url: ${SERVICENOW_INSTANCE_URL}
  username: ${SERVICENOW_USERNAME}
  password: ${SERVICENOW_PASSWORD}
  default_assignment_group: DataOps
  user_ticket_urgency: 2  # Medium
  audit_ticket_urgency: 3  # Low

# Slack Bot Configuration
slack_bot:
  bot_token: ${SLACK_BOT_TOKEN}  # xoxb-* token
  signing_secret: ${SLACK_SIGNING_SECRET}  # Verify requests from Slack
  app_token: ${SLACK_APP_TOKEN}  # xapp-* token for Socket Mode
  socket_mode: true  # Enable Socket Mode for local development

# Step Functions
step_functions:
  state_machine_arn: "arn:aws:states:us-east-1:637423332185:stateMachine:FileFerry-TransferStateMachine"

# Agent Settings
agent:
  max_history_length: 10  # Maximum conversation turns to remember
  high_latency_threshold: 5.0  # Seconds - log warning if exceeded
  enable_context_storage: false  # NOTE: Set to true after creating DynamoDB tables correctly
  test_mode: true  # Bypass SSO authentication for local testing

# Transfer Settings
transfer:
  small_file_threshold: 104857600  # 100MB
  large_file_threshold: 1073741824  # 1GB
  default_chunk_size: 10485760  # 10MB
  max_parallel_threads: 5
  enable_compression: true

# Monitoring
monitoring:
  enable_xray: true
  enable_cloudwatch: true
  log_retention_days: 90