<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - DataVista</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        .admin-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        .metric-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .metric-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .metric-title {
            font-size: 14px;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
        }
        .metric-icon {
            width: 48px;
            height: 48px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .metric-icon.blue { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .metric-icon.green { background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); }
        .metric-icon.orange { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .metric-icon.purple { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
        .metric-icon .material-icons {
            color: white;
            font-size: 28px;
        }
        .metric-value {
            font-size: 36px;
            font-weight: 700;
            color: #333;
            margin-bottom: 8px;
        }
        .metric-change {
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .metric-change.positive {
            color: #27ae60;
        }
        .metric-change.negative {
            color: #e74c3c;
        }
        .chart-container {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            margin-bottom: 25px;
        }
        .chart-placeholder {
            height: 300px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-weight: 600;
        }
        .system-logs {
            background: #1e1e1e;
            color: #d4d4d4;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            padding: 20px;
            border-radius: 8px;
            height: 300px;
            overflow-y: auto;
            line-height: 1.8;
        }
        .log-entry {
            margin-bottom: 5px;
        }
        .log-timestamp {
            color: #858585;
        }
        .log-level-info {
            color: #4ec9b0;
        }
        .log-level-warning {
            color: #dcdcaa;
        }
        .log-level-error {
            color: #f48771;
        }
        .config-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .config-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: white;
            border-radius: 8px;
            margin-bottom: 12px;
        }
        .config-label {
            font-weight: 600;
            color: #333;
        }
        .config-value {
            color: #666;
            font-size: 14px;
        }
        .toggle-switch {
            position: relative;
            width: 50px;
            height: 26px;
            background: #ccc;
            border-radius: 13px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .toggle-switch.active {
            background: #4caf50;
        }
        .toggle-switch::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: white;
            top: 3px;
            left: 3px;
            transition: left 0.3s;
        }
        .toggle-switch.active::after {
            left: 27px;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <span class="material-icons">insights</span>
                <span class="brand-text">DataVista</span>
            </div>
            <div class="nav-menu">
                <a href="index.html" class="nav-link">
                    <span class="material-icons">dashboard</span>
                    Dashboard
                </a>
                <a href="submit-request.html" class="nav-link">
                    <span class="material-icons">add_circle</span>
                    Submit Request
                </a>
                <a href="status-tracking.html" class="nav-link">
                    <span class="material-icons">track_changes</span>
                    Track Status
                </a>
                <a href="results.html" class="nav-link">
                    <span class="material-icons">download</span>
                    Results
                </a>
                <a href="admin.html" class="nav-link active">
                    <span class="material-icons">admin_panel_settings</span>
                    Admin
                </a>
            </div>
            <div class="nav-user">
                <span class="material-icons">account_circle</span>
                <span>Admin User</span>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="main-container">
        <div class="page-header">
            <h1>System Administration</h1>
            <p class="subtitle">Monitor AI agents, manage configurations, and view system logs</p>
        </div>

        <!-- Key Metrics -->
        <div class="admin-grid">
            <div class="metric-card">
                <div class="metric-header">
                    <div class="metric-title">Total Requests</div>
                    <div class="metric-icon blue">
                        <span class="material-icons">analytics</span>
                    </div>
                </div>
                <div class="metric-value">1,847</div>
                <div class="metric-change positive">
                    <span class="material-icons">trending_up</span>
                    <span>+12% from last month</span>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <div class="metric-title">Automation Rate</div>
                    <div class="metric-icon green">
                        <span class="material-icons">auto_awesome</span>
                    </div>
                </div>
                <div class="metric-value">94%</div>
                <div class="metric-change positive">
                    <span class="material-icons">trending_up</span>
                    <span>+3% from last month</span>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <div class="metric-title">Avg Response Time</div>
                    <div class="metric-icon orange">
                        <span class="material-icons">timer</span>
                    </div>
                </div>
                <div class="metric-value">2.4m</div>
                <div class="metric-change positive">
                    <span class="material-icons">trending_down</span>
                    <span>-18% from last month</span>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <div class="metric-title">AI Token Usage</div>
                    <div class="metric-icon purple">
                        <span class="material-icons">psychology</span>
                    </div>
                </div>
                <div class="metric-value">2.4M</div>
                <div class="metric-change positive">
                    <span class="material-icons">trending_up</span>
                    <span>+8% from last month</span>
                </div>
            </div>
        </div>

        <!-- Performance Chart -->
        <div class="chart-container">
            <h2 style="margin-bottom: 20px;">Request Volume Trend (Last 30 Days)</h2>
            <div class="chart-placeholder">
                ðŸ“Š Chart: Request volume visualization showing daily trends
            </div>
        </div>

        <!-- Agent Health Status -->
        <div class="section-card">
            <h2 style="margin-bottom: 25px;">AI Agent Health Status</h2>
            <div class="agent-grid">
                <div class="agent-card" style="border: 2px solid #4caf50;">
                    <div class="agent-header">
                        <span class="material-icons agent-icon">query_stats</span>
                        <h3>Query Analyzer</h3>
                    </div>
                    <div class="agent-status">
                        <span class="status-indicator active"></span>
                        <span>Operational</span>
                    </div>
                    <div class="agent-stats">
                        <div class="agent-stat">
                            <strong>99.8%</strong>
                            <span>Uptime (30d)</span>
                        </div>
                    </div>
                    <div style="margin-top: 15px; font-size: 12px; color: #666;">
                        <div>Response Time: 0.8s avg</div>
                        <div>Error Rate: 0.2%</div>
                    </div>
                </div>

                <div class="agent-card" style="border: 2px solid #4caf50;">
                    <div class="agent-header">
                        <span class="material-icons agent-icon">settings</span>
                        <h3>Execution Orchestrator</h3>
                    </div>
                    <div class="agent-status">
                        <span class="status-indicator active"></span>
                        <span>Operational</span>
                    </div>
                    <div class="agent-stats">
                        <div class="agent-stat">
                            <strong>99.5%</strong>
                            <span>Uptime (30d)</span>
                        </div>
                    </div>
                    <div style="margin-top: 15px; font-size: 12px; color: #666;">
                        <div>Response Time: 3.2s avg</div>
                        <div>Error Rate: 0.5%</div>
                    </div>
                </div>

                <div class="agent-card" style="border: 2px solid #4caf50;">
                    <div class="agent-header">
                        <span class="material-icons agent-icon">verified_user</span>
                        <h3>Validation Agent</h3>
                    </div>
                    <div class="agent-status">
                        <span class="status-indicator active"></span>
                        <span>Operational</span>
                    </div>
                    <div class="agent-stats">
                        <div class="agent-stat">
                            <strong>99.9%</strong>
                            <span>Uptime (30d)</span>
                        </div>
                    </div>
                    <div style="margin-top: 15px; font-size: 12px; color: #666;">
                        <div>Response Time: 1.2s avg</div>
                        <div>Error Rate: 0.1%</div>
                    </div>
                </div>

                <div class="agent-card" style="border: 2px solid #4caf50;">
                    <div class="agent-header">
                        <span class="material-icons agent-icon">rocket_launch</span>
                        <h3>Deployment Agent</h3>
                    </div>
                    <div class="agent-status">
                        <span class="status-indicator active"></span>
                        <span>Operational</span>
                    </div>
                    <div class="agent-stats">
                        <div class="agent-stat">
                            <strong>98.7%</strong>
                            <span>Uptime (30d)</span>
                        </div>
                    </div>
                    <div style="margin-top: 15px; font-size: 12px; color: #666;">
                        <div>Response Time: 5.4s avg</div>
                        <div>Error Rate: 1.3%</div>
                    </div>
                </div>

                <div class="agent-card" style="border: 2px solid #4caf50;">
                    <div class="agent-header">
                        <span class="material-icons agent-icon">notifications_active</span>
                        <h3>Communication Agent</h3>
                    </div>
                    <div class="agent-status">
                        <span class="status-indicator active"></span>
                        <span>Operational</span>
                    </div>
                    <div class="agent-stats">
                        <div class="agent-stat">
                            <strong>99.9%</strong>
                            <span>Uptime (30d)</span>
                        </div>
                    </div>
                    <div style="margin-top: 15px; font-size: 12px; color: #666;">
                        <div>Response Time: 0.5s avg</div>
                        <div>Error Rate: 0.1%</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- System Configuration -->
        <div class="section-card">
            <h2 style="margin-bottom: 25px;">System Configuration</h2>
            
            <div class="config-section">
                <h3 style="margin-bottom: 15px; color: #333;">AI Settings</h3>
                <div class="config-item">
                    <div>
                        <div class="config-label">Auto-Approval Threshold</div>
                        <div class="config-value">Low risk queries are auto-approved</div>
                    </div>
                    <div class="toggle-switch active"></div>
                </div>
                <div class="config-item">
                    <div>
                        <div class="config-label">AI Model</div>
                        <div class="config-value">Azure OpenAI GPT-4 (gpt-4-1106-preview)</div>
                    </div>
                    <button class="btn btn-secondary" style="padding: 8px 16px;">Configure</button>
                </div>
                <div class="config-item">
                    <div>
                        <div class="config-label">Token Limit per Request</div>
                        <div class="config-value">8,000 tokens</div>
                    </div>
                    <button class="btn btn-secondary" style="padding: 8px 16px;">Edit</button>
                </div>
            </div>

            <div class="config-section">
                <h3 style="margin-bottom: 15px; color: #333;">Notification Settings</h3>
                <div class="config-item">
                    <div>
                        <div class="config-label">Email Notifications</div>
                        <div class="config-value">Enabled for all request status changes</div>
                    </div>
                    <div class="toggle-switch active"></div>
                </div>
                <div class="config-item">
                    <div>
                        <div class="config-label">Teams Integration</div>
                        <div class="config-value">Notifications sent to #data-requests channel</div>
                    </div>
                    <div class="toggle-switch active"></div>
                </div>
                <div class="config-item">
                    <div>
                        <div class="config-label">SMS Alerts (Urgent Only)</div>
                        <div class="config-value">For high-priority and failed requests</div>
                    </div>
                    <div class="toggle-switch"></div>
                </div>
            </div>

            <div class="config-section">
                <h3 style="margin-bottom: 15px; color: #333;">Security & Access</h3>
                <div class="config-item">
                    <div>
                        <div class="config-label">Azure AD Authentication</div>
                        <div class="config-value">SSO enabled via Microsoft Entra ID</div>
                    </div>
                    <span style="color: #4caf50; font-weight: 600;">âœ“ Active</span>
                </div>
                <div class="config-item">
                    <div>
                        <div class="config-label">Multi-Factor Authentication</div>
                        <div class="config-value">Required for admin access</div>
                    </div>
                    <div class="toggle-switch active"></div>
                </div>
                <div class="config-item">
                    <div>
                        <div class="config-label">Role-Based Access Control</div>
                        <div class="config-value">5 roles configured (Admin, Approver, Requestor, Viewer, Auditor)</div>
                    </div>
                    <button class="btn btn-secondary" style="padding: 8px 16px;">Manage</button>
                </div>
            </div>
        </div>

        <!-- System Logs -->
        <div class="section-card">
            <h2 style="margin-bottom: 20px;">System Logs (Real-time)</h2>
            <div class="system-logs">
                <div class="log-entry">
                    <span class="log-timestamp">[2025-12-07 14:32:18]</span>
                    <span class="log-level-info">[INFO]</span>
                    <span> Query Analyzer: Validated request #DV-2025-1247 - Approved</span>
                </div>
                <div class="log-entry">
                    <span class="log-timestamp">[2025-12-07 14:32:15]</span>
                    <span class="log-level-info">[INFO]</span>
                    <span> New request received: #DV-2025-1247 from john.doe@company.com</span>
                </div>
                <div class="log-entry">
                    <span class="log-timestamp">[2025-12-07 14:31:42]</span>
                    <span class="log-level-info">[INFO]</span>
                    <span> Execution Orchestrator: Query #DV-2025-1246 completed successfully (15,234 rows)</span>
                </div>
                <div class="log-entry">
                    <span class="log-timestamp">[2025-12-07 14:31:38]</span>
                    <span class="log-level-info">[INFO]</span>
                    <span> Validation Agent: Data quality check passed for #DV-2025-1246</span>
                </div>
                <div class="log-entry">
                    <span class="log-timestamp">[2025-12-07 14:30:55]</span>
                    <span class="log-level-warning">[WARN]</span>
                    <span> Query Analyzer: High complexity query detected in #DV-2025-1245, sent for manual approval</span>
                </div>
                <div class="log-entry">
                    <span class="log-timestamp">[2025-12-07 14:29:12]</span>
                    <span class="log-level-info">[INFO]</span>
                    <span> Communication Agent: Email notification sent to jane.smith@company.com</span>
                </div>
                <div class="log-entry">
                    <span class="log-timestamp">[2025-12-07 14:28:45]</span>
                    <span class="log-level-info">[INFO]</span>
                    <span> Deployment Agent: FTP upload completed for #DV-2025-1244</span>
                </div>
                <div class="log-entry">
                    <span class="log-timestamp">[2025-12-07 14:27:33]</span>
                    <span class="log-level-info">[INFO]</span>
                    <span> Azure OpenAI: Token usage - Input: 1,247 | Output: 523 | Total: 1,770</span>
                </div>
                <div class="log-entry">
                    <span class="log-timestamp">[2025-12-07 14:26:18]</span>
                    <span class="log-level-info">[INFO]</span>
                    <span> Health Check: All 5 AI agents operational</span>
                </div>
                <div class="log-entry">
                    <span class="log-timestamp">[2025-12-07 14:25:02]</span>
                    <span class="log-level-error">[ERROR]</span>
                    <span> Execution Orchestrator: Connection timeout to DEV database, retrying...</span>
                </div>
                <div class="log-entry">
                    <span class="log-timestamp">[2025-12-07 14:24:55]</span>
                    <span class="log-level-info">[INFO]</span>
                    <span> Query Analyzer: Security scan completed - 0 threats detected</span>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <p>&copy; 2025 DataVista. Powered by Azure OpenAI & Semantic Kernel</p>
    </footer>
</body>
</html>
